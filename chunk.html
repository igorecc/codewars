<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function revrot(str, sz) {
        // your code
        if ((str === "") | (sz === 0) | (str.length < sz)) {
          return "";
        }
        let l = str.length,
          sum = 0;
        let numChunks = Math.floor(l / sz);
        let arr = [];
        let revert = [];
        let temp = [];
        let arrResult = [];
        let j = 0;

        for (let i = 0, o = 0; i < numChunks; ++i, o += sz) {
          arr[i] = str.substr(o, sz);
        }

        let arrL = arr.length;

        arr.forEach(function (value, index) {
          let varContainer = [];
          varContainer = value.split("").map(Number);
          varContainer.forEach(function (item) {
            sum += item * item * item;
          });
          console.log(sum);

          if (sum % 2 === 0) {
            //reverse the chunk
            varContainer.reverse();
            //revert.push(varContainer);
            //   for (let j = 0; j < varContainer.length - 1; j++) {
            //  revert.push(varContainer[j]);
            temp = varContainer.join("");
            //    }
            console.log("reverse");
            console.log(temp);
          } else {
            //rotate
            console.log("rotate");
          }
          revert.push(temp);
          console.log(revert);

          sum = 0;
        });
        console.log(arr);
      }
      console.log(revrot("222444444666668", 5));
    </script>
  </body>
</html>
